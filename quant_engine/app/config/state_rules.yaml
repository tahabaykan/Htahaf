# State Transition Rules Configuration
# All thresholds for state transitions

# Stability / Anti-flapping settings
stability:
  # Number of consecutive ticks required before state change
  required_confirmations: 3
  # Minimum time (seconds) before state change is allowed
  min_time_seconds: 5.0

# Transition thresholds
transitions:
  # IDLE -> WATCH
  idle_to_watch:
    max_spread_percent: 1.0
    min_volume: 0
    
  # WATCH -> CANDIDATE
  watch_to_candidate:
    max_spread_percent: 0.5
    min_volume: 1000
    min_final_thg: 0
    min_smi: 0
    
  # WATCH (alternative path: high spread but good static metrics)
  idle_to_watch_static:
    min_spread_percent: 5.0  # Spread must be >= this value
    min_final_thg: 1.2
    min_avg_adv: 5000
    
  # CANDIDATE -> WATCH (downgrade)
  candidate_to_watch:
    # If candidate criteria no longer met but watch criteria still valid
    # Uses watch criteria thresholds
    
  # WATCH -> IDLE (downgrade)
  watch_to_idle:
    # If watch criteria no longer met
    # No specific thresholds - just absence of watch criteria
    
  # CANDIDATE -> IDLE (downgrade)
  candidate_to_idle:
    # If candidate criteria no longer met
    # No specific thresholds - just absence of candidate criteria

